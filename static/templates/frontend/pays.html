{% extends "frontend/base_layout.html" %}

{% block content %}

<!-- TEMPLATE PAGE PAYS -->

<div class="container-fluid">

    <!-- header -->
    <div class="row">

        <!-- NOM DU PAYS -->
        <div class="col-sm">
            <h1 class="page-header text-light">{{ pays.nom }} ({{ pays.continent.nom }})</h1>
        </div>
        <!-- FIN NOM DU PAYS -->
        <!-- FILTRES -->
        <div class="container-fluid">
            <ol class="breadcrumb" >
                <li class="active">
                  <form action="" method="POST" name="form">
                    <!-- TODO : link filters to real actions, use a nice flask form -->
                    Filtres :

                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2" checked>
                        <label class="form-check-label" for="inlineCheckbox2">Doubles Diplômes</label>
                    </div>
                    <!-- menu déroulant pour le choix du département-->
                    <div class="form-check form-check-inline">
                        <select class="form-control form-control-sm">
                        <option selected>Sélectionner le département...</option>
                        <option>GM</option>
                        <option>GI</option>
                        <option>GEN</option>
                        <option>GCU</option>
                        <option>IF</option>
                        <option>TC</option>
                        <option>BB/BIM</option>
                        <option>SGM</option>
                        <option>GE</option>
                        </select>
                    </div>
                    <button class="btn btn-success " type="submit">Filtrer</button>
                  </form>
                </li>
            </ol>
        </div>
        <!-- FIN FILTRES -->

    </div>
    <!-- FIN header -->

    <!-- LISTE UNIVERSITES -->
    <h2 class="font-weight-bold text-light">Universités partenaires</h2>
    <table class="table table-bordered table-secondary">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Université</th>
            <th scope="col">Type</th>
            <th scope="col">Nombre de places</th>
            <th scope="col">Département(s) concerné(s)</th>
            <th scope="col">Demandes</th>
          </tr>
        </thead>
        <tbody>
          {% for uni, echng in Universite.get_with_echanges_for_pays(pays) %}
          <tr>
            <td><a href="{{ url_for("universite", id=uni.pk) }}">{{ uni.nom }}</a></td>
            <td>{{ echng.accord.nom }}</td>
            <td>{{ echng.places }}</td>
            <td>{{ echng.get_departments_str() }}</td>
            <td>
              <div class="btn-group ">
              <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Demandes</button>
              <!-- TODO : all data should be dynamic -->
              <div class="dropdown-menu">
                <a class="dropdown-item" href="#">Jean-Paul Dupont 4AS1</a>
                <a class="dropdown-item" href="#">Jean-Michel Chanron 5AS2</a>
                <a class="dropdown-item" href="#">Hubert De la pâte Feuilletée 4AS1</a>
              </div>
              </div>
            </td>
          </tr>
          {% endfor %}
        </tbody>
    </table>
    <!-- FIN UNIVERSITES -->

    <!-- INFOS -->
    <!-- TODO : le texte du paragraphe doit pouvoir être modifié (utiliser le lien ci-dessous (modifier/ajouter)) -->
    <!-- TODO : Il faut aussi que le style standard s'applique aussi sur le Markdown -->
    <h2 class="font-weight-bold text-light">Wiki</h2>
    <div class="card card-green">
      <div class="card-body">
        <h3 class="card-title card-green text-success">Vie pratique</h3>
        <p class="card-text">{{ pays.get_vie_pratique_html() }}</p>
      </div>
      <div class="card-body">
        <a href="#" class="card-link">Modifier/Ajouter</a>
      </div>
    </div>
    <div class="card card-yellow">
      <div class="card-body">
        <h3 class="card-title card-yellow text-warning">Tourisme</h3>
        <p class="card-text">{{ pays.get_tourisme_html() }}</p>
      <div class="card-body">
        <a href="#" class="card-link">Modifier/Ajouter</a>
      </div>
    </div>
    <div class="card card-red">
      <div class="card-body">
          <h3 class="card-title card-red text-danger">Culture</h3>
          <p class="card-text">{{ pays.get_culture_html() }}</p>
      <div class="card-body">
          <a href="#" class="card-link">Modifier/Ajouter</a>
      </div>
    </div>
    <!-- TODO: Make card-blue work -->
    <div class="card card-blue">
      <div class="card-body">
          <h3 class="card-title card-blue text-info">Climat</h3>
          <p class="card-text">{{ pays.get_climat_html() }}</p>
      <div class="card-body">
          <a href="#" class="card-link">Modifier/Ajouter</a>
      </div>
    </div>
    <!-- FIN INFOS -->

</div>

{% endblock %}
